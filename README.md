# Api_ati.su_telegram-bot
Telegram bot for ATI.SU loads &amp; offers
# Api_ati.su_telegram-bot

Telegram‚Äë–±–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã–µ –≥—Ä—É–∑—ã –∏ –≤—Å—Ç—Ä–µ—á–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Å ATI.SU, —É–º–µ–µ—Ç –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª—è—Ç—å –≥—Ä—É–∑—ã –∏ –ø—Ä–∏—Å—ã–ª–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –æ—Ç–∫–ª–∏–∫–∞—Ö.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üìã –ö–Ω–æ–ø–∫–∞ **¬´–ú–æ–∏ –≥—Ä—É–∑—ã¬ª** ‚Äî —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –≥—Ä—É–∑–æ–≤ —Å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º, –≤–µ—Å–æ–º –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –æ—Ç–∫–ª–∏–∫–æ–≤.
- ‚ôªÔ∏è –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –≥—Ä—É–∑–æ–≤ —Ä–∞–∑ –≤ –∑–∞–¥–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª.
- üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ **–Ω–æ–≤—ã—Ö –≤—Å—Ç—Ä–µ—á–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è—Ö** —Å –≤—ã–¥–µ–ª–µ–Ω–∏–µ–º –ª—É—á—à–µ–π —Å—Ç–∞–≤–∫–∏ –ø–æ —Ü–µ–Ω–µ.
- üî• –ü–æ–º–µ—Ç–∫–∞ –ª—É—á—à–µ–≥–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —Å—Ç–∞–≤–∫–µ —Å –ù–î–°.
- üü° –ò–∫–æ–Ω–∫–∞ ¬´–≥—Ä—É–∑ –º–æ–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å¬ª, ‚è≥ ‚Äî –ø–æ–∫–∞ –Ω–µ–ª—å–∑—è.
- –õ–æ–≥–∏–∫–∞ –ø–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞–º (–Ω–µ—Å–∫–æ–ª—å–∫–æ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ ATI, –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤ –±–æ—Ç–µ).

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.10+
- –ê–∫–∫–∞—É–Ω—Ç –∏ API‚Äë–¥–æ—Å—Ç—É–ø –∫ ATI.SU
- Telegram‚Äë–±–æ—Ç (token –æ—Ç BotFather)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
git clone https://github.com/AleksandrSrk/Api_ati.su_telegram-bot.git
cd Api_ati.su_telegram-bot

# (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) —Å–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python -m venv .venv
# Windows:
.\.venv\Scripts\activate
# Linux/macOS:
# source .venv/bin/activate

pip install -r requirements.txt
–ù–∞—Å—Ç—Ä–æ–π–∫–∞
–í—Å–µ –∫–æ–Ω—Ñ–∏–≥–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ config.py –∏ –±–µ—Ä—É—Ç—Å—è –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env).

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

text
# === ATI.SU ===
ATI_CLIENT_ID=your_ati_client_id_here

ATI_ALEXANDER_ACCESS_TOKEN=your_alexander_access_token_here
ATI_ALEXANDER_CONTACT_ID=0

ATI_IGOR_ACCESS_TOKEN=your_igor_access_token_here
ATI_IGOR_CONTACT_ID=2

# === Telegram ===
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
TELEGRAM_CHAT_ID_ALEXANDER=123456789
TELEGRAM_CHAT_ID_IGOR=987654321

# === Scheduler ===
UPDATE_INTERVAL_MINUTES=60
RESPONSES_CHECK_MINUTES=5
–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–æ–ø—Ä–∞–≤—å—Ç–µ MANAGERS –∏ TELEGRAM_CHAT_IDS –≤ config.py (–∏–º–µ–Ω–∞ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤, contact_id –∏ —Ç.–¥.).

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª cities.json –ª–µ–∂–∏—Ç —Ä—è–¥–æ–º —Å ati_client.py (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–∏–π –≥–æ—Ä–æ–¥–æ–≤).

–ó–∞–ø—É—Å–∫
bash
python main.py
–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç:

–ø–æ–¥–Ω–∏–º–∞–µ—Ç –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≥—Ä—É–∑–æ–≤,

–Ω–∞—á–∏–Ω–∞–µ—Ç polling Telegram API.

–í Telegram:

–ù–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞ –ø–æ –∏–º–µ–Ω–∏, –∫–æ—Ç–æ—Ä–æ–µ —É–∫–∞–∑–∞–ª–∏ –≤ BotFather.

–ù–∞–∂–º–∏—Ç–µ /start.

–í—ã–±–µ—Ä–∏—Ç–µ –º–µ–Ω–µ–¥–∂–µ—Ä–∞.

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏:

üìã –ú–æ–∏ –≥—Ä—É–∑—ã
‚è± –î–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
üîÑ –û–±–Ω–æ–≤–∏—Ç—å –≤—Ä—É—á–Ω—É—é
üü¢/üî¥ –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –≥—Ä—É–∑–æ–≤

–û–±–æ–∑–Ω–∞—á–µ–Ω–∏—è —ç–º–æ–¥–∑–∏
üü° ‚Äî –≥—Ä—É–∑ –º–æ–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å.
‚ôªÔ∏è ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≥—Ä—É–∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ.
üî• ‚Äî –ª—É—á—à–µ–µ –≤—Å—Ç—Ä–µ—á–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –ø–æ —Ü–µ–Ω–µ.
‚è≥ ‚Äî –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–ª—å–∑—è –æ–±–Ω–æ–≤–∏—Ç—å / –Ω–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π.
üîÑ ‚Äî —Ä—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.
üìã ‚Äî —Å–ø–∏—Å–æ–∫ –≥—Ä—É–∑–æ–≤.
‚è± ‚Äî –≤—Ä–µ–º—è –¥–æ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
text
ati_client.py      # –†–∞–±–æ—Ç–∞ —Å API ATI.SU
telegram_bot.py    # –õ–æ–≥–∏–∫–∞ Telegram‚Äë–±–æ—Ç–∞ (aiogram)
scheduler.py       # –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ç–∫–ª–∏–∫–æ–≤
state.py           # –•—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è (–∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, known_responses –∏ —Ç.–¥.)
config.py          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (—á—Ç–µ–Ω–∏–µ –∏–∑ .env)
main.py            # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
cities.json        # –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –≥–æ—Ä–æ–¥–æ–≤ ATI
–õ–∏—Ü–µ–Ω–∑–∏—è
MIT License. –°–º. —Ñ–∞–π–ª LICENSE.